# CRSé›†æˆæµ‹è¯•å¿«é€Ÿå…¥é—¨

> **ç›®æ ‡**: 5åˆ†é’Ÿå†…å®ŒæˆSprint 2çš„CRSé›†æˆéªŒè¯
> **å‰æ**: Sprint 2ä»£ç å·²å®Œæˆï¼Œå•å…ƒæµ‹è¯•é€šè¿‡

---

## ðŸš€ å¿«é€Ÿæ‰§è¡Œï¼ˆ3æ­¥å®Œæˆï¼‰

### Step 1: æ£€æŸ¥çŽ¯å¢ƒå˜é‡ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
# æ£€æŸ¥.env.localæ–‡ä»¶
cat .env.local | grep CRS
```

**å¿…é¡»åŒ…å«**:
```bash
CRS_BASE_URL=https://claude.just-play.fun
CRS_ADMIN_USERNAME=cr_admin_4ce18cd2
CRS_ADMIN_PASSWORD=HCTBMoiK3PZD0eDC
```

**å¦‚æžœç¼ºå¤±**:
```bash
echo "CRS_BASE_URL=https://claude.just-play.fun" >> .env.local
echo "CRS_ADMIN_USERNAME=cr_admin_4ce18cd2" >> .env.local
echo "CRS_ADMIN_PASSWORD=HCTBMoiK3PZD0eDC" >> .env.local
```

---

### Step 2: è¿è¡Œé›†æˆæµ‹è¯•ï¼ˆ2åˆ†é’Ÿï¼‰

```bash
npx tsx scripts/test-crs-connection.ts
```

**é¢„æœŸè¾“å‡º**:
```
ðŸ” å¼€å§‹æµ‹è¯•CRSè¿žæŽ¥...

1ï¸âƒ£ æµ‹è¯•CRSè®¤è¯...
âœ… è®¤è¯æˆåŠŸ!
   Token: eyJhbGciOiJIUzI1NiI...

2ï¸âƒ£ æµ‹è¯•èŽ·å–ä»ªè¡¨æ¿æ•°æ®...
âœ… ä»ªè¡¨æ¿æ•°æ®èŽ·å–æˆåŠŸ!
   æ•°æ®: {...}

3ï¸âƒ£ æµ‹è¯•åˆ›å»ºå¯†é’¥...
âœ… å¯†é’¥åˆ›å»ºæˆåŠŸ!
   å¯†é’¥ID: key_abc123

4ï¸âƒ£ æµ‹è¯•æ›´æ–°å¯†é’¥...
âœ… å¯†é’¥æ›´æ–°æˆåŠŸ!

5ï¸âƒ£ æµ‹è¯•èŽ·å–å¯†é’¥ç»Ÿè®¡...
âœ… ç»Ÿè®¡æ•°æ®èŽ·å–æˆåŠŸ!
   ç»Ÿè®¡: {...}

6ï¸âƒ£ æµ‹è¯•åˆ é™¤å¯†é’¥...
âœ… å¯†é’¥åˆ é™¤æˆåŠŸ!

ðŸŽ‰ æ‰€æœ‰CRS APIæµ‹è¯•é€šè¿‡!
```

---

### Step 3: è®°å½•ç»“æžœï¼ˆ2åˆ†é’Ÿï¼‰

#### æƒ…å†µA: æµ‹è¯•é€šè¿‡ âœ…

```bash
# æ›´æ–°é›†æˆæµ‹è¯•æ—¥å¿—
cat >> docs/INTEGRATION_TEST_LOG.md <<EOF

## Sprint 2 - APIå¯†é’¥ç®¡ç†ï¼ˆæ›´æ–°ï¼‰

**æµ‹è¯•æ—¶é—´**: $(date '+%Y-%m-%d %H:%M')
**æµ‹è¯•äººå‘˜**: $(whoami)
**æµ‹è¯•ç»“æžœ**: âœ… é€šè¿‡
**CRSç‰ˆæœ¬**: èŽ·å–è‡ªCRSå“åº”
**å‘çŽ°é—®é¢˜**: æ— 
**ä¿®å¤æƒ…å†µ**: N/A

### æµ‹è¯•è¦†ç›–
- âœ… CRSåŸºç¡€è¿žæŽ¥
- âœ… å¯†é’¥åˆ›å»º
- âœ… å¯†é’¥æ›´æ–°
- âœ… å¯†é’¥åˆ é™¤
- âœ… å¯†é’¥ç»Ÿè®¡

### æ‰§è¡Œå‘½ä»¤
\`\`\`bash
npx tsx scripts/test-crs-connection.ts
\`\`\`

### æµ‹è¯•ç»“æžœ
æ‰€æœ‰APIè°ƒç”¨æˆåŠŸï¼Œå“åº”æ ¼å¼ä¸Žä»£ç é¢„æœŸå®Œå…¨åŒ¹é…ã€‚

EOF

# æäº¤è®°å½•
git add docs/INTEGRATION_TEST_LOG.md
git commit -m "test: Sprint 2 CRS integration verified âœ…"

echo "âœ… Sprint 2é›†æˆéªŒè¯å®Œæˆï¼å¯ä»¥å¼€å§‹Sprint 3äº†ã€‚"
```

#### æƒ…å†µB: æµ‹è¯•å¤±è´¥ âŒ

**å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ**:

##### é”™è¯¯1: è®¤è¯å¤±è´¥
```
âŒ CRSæµ‹è¯•å¤±è´¥: CRS authentication failed
```

**è§£å†³**:
1. æ£€æŸ¥CRS_ADMIN_USERNAMEå’ŒCRS_ADMIN_PASSWORDæ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥CRSæœåŠ¡æ˜¯å¦å¯è®¿é—®: `curl https://claude.just-play.fun`
3. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥

##### é”™è¯¯2: å“åº”æ ¼å¼ä¸åŒ¹é…
```
âŒ TypeError: Cannot read property 'xxx' of undefined
```

**è§£å†³**:
1. æŸ¥çœ‹é”™è¯¯è¯¦æƒ…ä¸­çš„å®žé™…å“åº”
2. å¯¹æ¯”ä»£ç ä¸­çš„æœŸæœ›æ ¼å¼
3. ä¿®æ”¹ä»£ç ä»¥åŒ¹é…çœŸå®žå“åº”

**ä¿®å¤æµç¨‹**:
```bash
# 1. ä¿®æ”¹ä»£ç 
# è°ƒæ•´ lib/crs-client.ts æˆ– app/api/xxx/route.ts

# 2. é‡æ–°è¿è¡Œå•å…ƒæµ‹è¯•ï¼ˆç¡®ä¿ä»ç„¶é€šè¿‡ï¼‰
npm test

# 3. å†æ¬¡è¿è¡Œé›†æˆæµ‹è¯•
npx tsx scripts/test-crs-connection.ts

# 4. æäº¤ä¿®å¤
git add .
git commit -m "fix: adjust CRS API format to match real response"

# 5. æ›´æ–°æ—¥å¿—
# è®°å½•å‘çŽ°çš„é—®é¢˜å’Œä¿®å¤æ–¹æ¡ˆåˆ° INTEGRATION_TEST_LOG.md
```

##### é”™è¯¯3: CRSæœåŠ¡ä¸å¯ç”¨
```
âŒ CRSæœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åŽé‡è¯•
```

**è§£å†³**:
1. æ£€æŸ¥CRSæœåŠ¡çŠ¶æ€
2. ç­‰å¾…æœåŠ¡æ¢å¤
3. ç¨åŽé‡è¯•

---

## ðŸ“Š éªŒè¯æ¸…å•

å®Œæˆé›†æˆæµ‹è¯•åŽï¼Œæ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

```markdown
Sprint 2é›†æˆéªŒè¯æ¸…å•:
- [ ] âœ… çŽ¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] âœ… é›†æˆæµ‹è¯•è„šæœ¬è¿è¡Œé€šè¿‡
- [ ] âœ… æ‰€æœ‰APIè°ƒç”¨æˆåŠŸ
- [ ] âœ… å“åº”æ ¼å¼ä¸Žä»£ç åŒ¹é…
- [ ] âœ… æµ‹è¯•ç»“æžœå·²è®°å½•åˆ°INTEGRATION_TEST_LOG.md
- [ ] âœ… ç›¸å…³æäº¤å·²æŽ¨é€åˆ°Git

å¦‚æžœæ‰€æœ‰é¡¹ç›®éƒ½å‹¾é€‰ï¼ŒSprint 2é›†æˆéªŒè¯å®Œæˆï¼ðŸŽ‰
```

---

## ðŸ”„ æœªæ¥Sprintå¿«é€Ÿå‚è€ƒ

### Sprint 3åŠä»¥åŽçš„é›†æˆæµ‹è¯•

æ¯ä¸ªSprintå®ŒæˆTDDå¼€å‘åŽï¼š

```bash
# 1. åˆ›å»ºé›†æˆæµ‹è¯•è„šæœ¬
cp scripts/test-crs-connection.ts scripts/test-crs-xxx.ts
# ä¿®æ”¹ä¸ºæµ‹è¯•æ–°åŠŸèƒ½

# 2. è¿è¡Œæµ‹è¯•
npx tsx scripts/test-crs-xxx.ts

# 3. è®°å½•ç»“æžœ
# æ›´æ–° docs/INTEGRATION_TEST_LOG.md

# 4. åˆå¹¶ä»£ç 
git checkout develop
git merge feature/xxx --no-ff
```

---

## ðŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆè¦åšé›†æˆæµ‹è¯•ï¼Ÿ
**A**: å•å…ƒæµ‹è¯•ç”¨Mockï¼Œå¯èƒ½ä¸ŽçœŸå®žCRSå“åº”æ ¼å¼ä¸åŒ¹é…ã€‚é›†æˆæµ‹è¯•ç¡®ä¿ä»£ç çœŸçš„èƒ½ç”¨ã€‚

### Q2: å¤šä¹…åšä¸€æ¬¡é›†æˆæµ‹è¯•ï¼Ÿ
**A**: æ¯ä¸ªSprintå®ŒæˆåŽç«‹å³åšä¸€æ¬¡ï¼Œä¸è¦ç­‰åˆ°æœ€åŽã€‚

### Q3: é›†æˆæµ‹è¯•å¤±è´¥æ€Žä¹ˆåŠžï¼Ÿ
**A**: å¾ˆæ­£å¸¸ï¼ä¿®å¤ä»£ç ï¼Œé‡æ–°æµ‹è¯•ï¼Œè®°å½•é—®é¢˜ã€‚è¿™å°±æ˜¯é›†æˆæµ‹è¯•çš„ä»·å€¼ã€‚

### Q4: èƒ½è·³è¿‡é›†æˆæµ‹è¯•å—ï¼Ÿ
**A**: ä¸èƒ½ã€‚è¿™æ˜¯é¡¹ç›®å¼ºåˆ¶è¦æ±‚ã€‚

---

## ðŸ“ž éœ€è¦å¸®åŠ©ï¼Ÿ

**é—®é¢˜æŽ’æŸ¥é¡ºåº**:
1. æ£€æŸ¥é”™è¯¯æ¶ˆæ¯
2. æŸ¥çœ‹ docs/CRS_INTEGRATION_STANDARD.md
3. æŸ¥çœ‹ docs/TESTING_STRATEGY.md
4. è”ç³»å›¢é˜Ÿæˆå‘˜

---

**ä¸‹ä¸€æ­¥**: è¿è¡Œ `npx tsx scripts/test-crs-connection.ts` å¼€å§‹éªŒè¯ï¼
