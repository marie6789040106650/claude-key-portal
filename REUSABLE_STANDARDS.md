# å¯å¤ç”¨å¼€å‘æ ‡å‡†
## æç‚¼è‡ª Claude Key Portal é¡¹ç›®

**åˆ›å»ºæ—¥æœŸ**: 2025-10-10
**ç‰ˆæœ¬**: v1.0
**ç›®çš„**: ä¸ºä¸‹ä¸€ä¸ªé¡¹ç›®æä¾›æ ‡å‡†åŒ–çš„å¼€å‘è§„èŒƒå’Œæ¨¡æ¿
**æ¥æº**: Claude Key Portal é¡¹ç›®å®æˆ˜æ€»ç»“

---

## ğŸ“‹ ç›®å½•

1. [æ ¸å¿ƒåŸåˆ™](#æ ¸å¿ƒåŸåˆ™)
2. [é¡¹ç›®åˆå§‹åŒ–](#é¡¹ç›®åˆå§‹åŒ–)
3. [æ¶æ„æ ‡å‡†](#æ¶æ„æ ‡å‡†)
4. [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
5. [ä»£ç è´¨é‡](#ä»£ç è´¨é‡)
6. [æ–‡æ¡£è§„èŒƒ](#æ–‡æ¡£è§„èŒƒ)
7. [æ ‡å‡†æ¨¡æ¿](#æ ‡å‡†æ¨¡æ¿)

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. YAGNIåŸåˆ™ â­â­â­

**You Aren't Gonna Need It** - ä½ ä¸ä¼šéœ€è¦å®ƒ

```
âŒ é”™è¯¯æ€ç»´ï¼š
"å¯èƒ½æœªæ¥éœ€è¦..."
"æå‰è®¾è®¡å¥½æ¶æ„..."
"å…ˆæŠŠåŸºç¡€è®¾æ–½æ­å»ºå¥½..."

âœ… æ­£ç¡®æ€ç»´ï¼š
"ç°åœ¨éœ€è¦ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ"
"MVPéœ€è¦å“ªäº›ç‰¹æ€§ï¼Ÿ"
"èƒ½å¦ç”¨æœ€ç®€å•çš„æ–¹å¼å®ç°ï¼Ÿ"
```

**å®æˆ˜æ•™è®­**:
- Claude Key Portalåˆ é™¤äº†30%+çš„è¿‡åº¦è®¾è®¡ä»£ç 
- Cron Jobsã€Monitoringã€Notificationç­‰P2-P3åŠŸèƒ½åº”è¯¥åœ¨éœ€è¦æ—¶æ‰å®ç°

### 2. ä¼˜å…ˆçº§é©±åŠ¨å¼€å‘

```
P0 (MVP) â†’ å¿…é¡»æœ‰ï¼Œä¸èƒ½å‘å¸ƒæ²¡æœ‰çš„åŠŸèƒ½
P1 (V1.0) â†’ åº”è¯¥æœ‰ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
P2 (V1.5) â†’ å¯ä»¥æœ‰ï¼Œé”¦ä¸Šæ·»èŠ±
P3 (V2.0) â†’ æœªæ¥æœ‰ï¼Œé•¿æœŸè§„åˆ’

é“å¾‹ï¼šP0æœªå®Œæˆ100%ï¼Œä¸è€ƒè™‘P1
```

### 3. æ˜ç¡®é¡¹ç›®è¾¹ç•Œ â­â­â­

**å¼€å‘å‰å¿…é¡»å›ç­”**:

1. **æˆ‘ä»¬æ˜¯ä»€ä¹ˆï¼Ÿ** - é¡¹ç›®å®šä½
2. **æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ** - æ ¸å¿ƒåŠŸèƒ½
3. **æˆ‘ä»¬ä¸åšä»€ä¹ˆï¼Ÿ** - æ˜ç¡®è¾¹ç•Œ
4. **ä¾èµ–ä»€ä¹ˆï¼Ÿ** - å¤–éƒ¨æœåŠ¡

**ç¤ºä¾‹ï¼ˆClaude Key Portalï¼‰**:
```
å®šä½ï¼šCRSç”¨æˆ·ç®¡ç†é—¨æˆ·ï¼ˆä¸æ˜¯å¯†é’¥ç”Ÿæˆç³»ç»Ÿï¼‰

æˆ‘ä»¬åšï¼š
âœ… ç”¨æˆ·ç®¡ç†ï¼ˆæœ¬åœ°ï¼‰
âœ… ç•Œé¢å±•ç¤ºï¼ˆæœ¬åœ°ï¼‰
âœ… æœ¬åœ°æ‰©å±•åŠŸèƒ½
âœ… è°ƒç”¨CRS APIï¼ˆä»£ç†ï¼‰

æˆ‘ä»¬ä¸åšï¼š
âŒ å¯†é’¥ç”Ÿæˆï¼ˆCRSè´Ÿè´£ï¼‰
âŒ å¯†é’¥éªŒè¯ï¼ˆCRSè´Ÿè´£ï¼‰
âŒ APIä¸­è½¬ï¼ˆCRSè´Ÿè´£ï¼‰

é“å¾‹ï¼šå¤–éƒ¨æœåŠ¡å·²å®ç°çš„åŠŸèƒ½ï¼Œç›´æ¥è°ƒç”¨ï¼Œä¸è¦é‡æ–°å®ç°
```

---

## ğŸš€ é¡¹ç›®åˆå§‹åŒ–

### 1. ç›®å½•ç»“æ„

```bash
# åˆ›å»ºæ ‡å‡†ç›®å½•
mkdir -p PROJECT_CORE_DOCS
mkdir -p docs/{core,development,deployment,reference}
mkdir -p prototypes
mkdir -p lib/{domain,application,infrastructure}
mkdir -p tests/{unit,integration,e2e}

# åˆ›å»ºæ ¸å¿ƒæ–‡æ¡£
touch PROJECT_CORE_DOCS/01_é¡¹ç›®èƒŒæ™¯.md
touch PROJECT_CORE_DOCS/02_åŠŸèƒ½éœ€æ±‚å’Œè¾¹ç•Œ.md
touch PROJECT_CORE_DOCS/03_å‘å±•è·¯çº¿å›¾.md
touch CLAUDE.md
touch README.md
```

### 2. Gitåˆå§‹åŒ–

```bash
# åˆå§‹åŒ–Git
git init
git branch -M main

# é…ç½®Git Flow
git checkout -b develop

# é…ç½®Husky
npx husky init
```

### 3. ä¾èµ–å®‰è£…

```bash
# TypeScript + Next.js
npm install next@latest react@latest react-dom@latest
npm install -D typescript @types/react @types/node

# æµ‹è¯•å·¥å…·
npm install -D jest @testing-library/react @testing-library/jest-dom
npm install -D @jest/globals

# ä»£ç è´¨é‡
npm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
npm install -D prettier eslint-config-prettier
npm install -D husky lint-staged

# Commitè§„èŒƒ
npm install -D @commitlint/cli @commitlint/config-conventional
```

---

## ğŸ—ï¸ æ¶æ„æ ‡å‡†

### 1. DDD Liteåˆ†å±‚æ¶æ„ â­â­â­

```
lib/
â”œâ”€â”€ domain/              # ğŸ“¦ é¢†åŸŸå±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ user.entity.ts
â”‚   â”‚   â”œâ”€â”€ user.types.ts
â”‚   â”‚   â””â”€â”€ user.validation.ts
â”‚   â”œâ”€â”€ [domain]/
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ result.ts
â”‚       â””â”€â”€ errors.ts
â”‚
â”œâ”€â”€ application/         # ğŸ¯ åº”ç”¨å±‚ï¼ˆæµç¨‹ç¼–æ’ï¼‰
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ register.usecase.ts
â”‚   â”‚   â”œâ”€â”€ login.usecase.ts
â”‚   â”‚   â””â”€â”€ update-profile.usecase.ts
â”‚   â””â”€â”€ [domain]/
â”‚
â””â”€â”€ infrastructure/      # ğŸ”Œ åŸºç¡€è®¾æ–½å±‚ï¼ˆæŠ€æœ¯å®ç°ï¼‰
    â”œâ”€â”€ auth/
    â”œâ”€â”€ cache/
    â”œâ”€â”€ external/
    â””â”€â”€ persistence/
        â””â”€â”€ repositories/
```

**å±‚æ¬¡èŒè´£**:
- **è¡¨ç°å±‚** (app/) - HTTPè¯·æ±‚/å“åº”å¤„ç†
- **åº”ç”¨å±‚** (lib/application/) - ä¸šåŠ¡æµç¨‹ç¼–æ’
- **é¢†åŸŸå±‚** (lib/domain/) - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- **åŸºç¡€è®¾æ–½å±‚** (lib/infrastructure/) - æŠ€æœ¯å®ç°

### 2. Repositoryæ¨¡å¼

```typescript
// æ¥å£å®šä¹‰ï¼ˆdomainå±‚ï¼‰
interface IUserRepository {
  findById(id: string): Promise<User | null>
  findByEmail(email: string): Promise<User | null>
  create(data: CreateUserData): Promise<User>
  update(id: string, data: UpdateUserData): Promise<User>
  delete(id: string): Promise<void>
}

// å®ç°ï¼ˆinfrastructureå±‚ï¼‰
class UserRepository implements IUserRepository {
  constructor(private prisma: PrismaClient) {}

  async findById(id: string): Promise<User | null> {
    return await this.prisma.user.findUnique({ where: { id } })
  }
}
```

### 3. Resultæ¨¡å¼ï¼ˆç»Ÿä¸€é”™è¯¯å¤„ç†ï¼‰

```typescript
// lib/domain/shared/result.ts
export class Result<T> {
  public readonly isSuccess: boolean
  public readonly value?: T
  public readonly error?: Error

  private constructor(isSuccess: boolean, value?: T, error?: Error) {
    this.isSuccess = isSuccess
    this.value = value
    this.error = error
  }

  static ok<U>(value: U): Result<U> {
    return new Result<U>(true, value)
  }

  static fail<U>(error: string | Error): Result<U> {
    const err = typeof error === 'string' ? new Error(error) : error
    return new Result<U>(false, undefined, err)
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const result = await createUserUseCase.execute(input)
if (result.isSuccess) {
  return NextResponse.json(result.value, { status: 201 })
} else {
  return NextResponse.json({ error: result.error.message }, { status: 500 })
}
```

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. TDDå¼ºåˆ¶æ‰§è¡Œ â­â­â­

```bash
# ğŸ”´ RED: å…ˆå†™æµ‹è¯•ï¼ˆå¿…é¡»å¤±è´¥ï¼‰
# 1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
touch lib/application/user/__tests__/register.usecase.test.ts

# 2. å†™æµ‹è¯•
# [æµ‹è¯•ä»£ç ]

# 3. è¿è¡Œæµ‹è¯•ï¼ˆå¿…é¡»å¤±è´¥ï¼‰
npm test

# 4. æäº¤
git add .
git commit -m "test(user): add user registration validation test (ğŸ”´ RED)"

# ğŸŸ¢ GREEN: å†™å®ç°ï¼ˆè®©æµ‹è¯•é€šè¿‡ï¼‰
# 1. å®ç°åŠŸèƒ½
touch lib/application/user/register.usecase.ts

# 2. è¿è¡Œæµ‹è¯•ï¼ˆå¿…é¡»é€šè¿‡ï¼‰
npm test

# 3. æäº¤
git commit -am "feat(user): implement user registration (ğŸŸ¢ GREEN)"

# ğŸ”µ REFACTOR: é‡æ„ä¼˜åŒ–ï¼ˆä¿æŒæµ‹è¯•é€šè¿‡ï¼‰
# 1. ä¼˜åŒ–ä»£ç 
# [é‡æ„ä»£ç ]

# 2. è¿è¡Œæµ‹è¯•ï¼ˆå¿…é¡»é€šè¿‡ï¼‰
npm test

# 3. æäº¤
git commit -am "refactor(user): extract validation logic (ğŸ”µ REFACTOR)"
```

### 2. Git Commitè§„èŒƒ

```bash
æ ¼å¼ï¼š<type>(<scope>): <subject> (<tdd-phase>)

type:
- test: æµ‹è¯•
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤
- refactor: é‡æ„
- docs: æ–‡æ¡£
- style: æ ¼å¼
- perf: æ€§èƒ½
- chore: æ‚é¡¹

scope: user, auth, key, stats, infra

tdd-phaseï¼ˆTDDç›¸å…³commitå¿…é¡»ï¼‰:
- ğŸ”´ RED
- ğŸŸ¢ GREEN
- ğŸ”µ REFACTOR

ç¤ºä¾‹ï¼š
test(user): add email validation test (ğŸ”´ RED)
feat(user): implement email validation (ğŸŸ¢ GREEN)
refactor(user): extract email regex constant (ğŸ”µ REFACTOR)
fix(auth): correct JWT expiration time
docs(api): update API endpoints documentation
```

### 3. Pre-commit Hook

```bash
# .husky/pre-commit
#!/bin/sh

# è¿è¡Œæµ‹è¯•
npm test || exit 1

# ç±»å‹æ£€æŸ¥
npm run type-check || exit 1

# ä»£ç è§„èŒƒ
npm run lint || exit 1

# æ£€æŸ¥è¦†ç›–ç‡
npm run test:coverage || exit 1

# éªŒè¯Commit Message
npx commitlint --edit $1 || exit 1
```

### 4. æ··åˆæµ‹è¯•æ–¹æ¡ˆ

```
å¼€å‘é˜¶æ®µï¼ˆDay 1-4ï¼‰:
â”œâ”€â”€ TDDå¿«é€Ÿè¿­ä»£ï¼ˆä½¿ç”¨Mockï¼‰
â”‚   â”œâ”€â”€ ğŸ”´ RED: å†™æµ‹è¯•
â”‚   â”œâ”€â”€ ğŸŸ¢ GREEN: å†™å®ç°
â”‚   â””â”€â”€ ğŸ”µ REFACTOR: ä¼˜åŒ–
â”‚
é›†æˆéªŒè¯é˜¶æ®µï¼ˆDay 5ï¼‰:
â””â”€â”€ çœŸå®ç¯å¢ƒæµ‹è¯•
    â”œâ”€â”€ âœ… è¿è¡Œé›†æˆæµ‹è¯•è„šæœ¬
    â”œâ”€â”€ ğŸ”§ ä¿®å¤é—®é¢˜
    â””â”€â”€ ğŸ“ è®°å½•æµ‹è¯•ç»“æœ

é“å¾‹ï¼šé›†æˆæµ‹è¯•é€šè¿‡æ‰èƒ½åˆå¹¶åˆ°develop
```

---

## ğŸ’» ä»£ç è´¨é‡

### 1. TypeScriptä¸¥æ ¼æ¨¡å¼

```json
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true
  }
}
```

### 2. ESLinté…ç½®

```json
// .eslintrc.json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:@typescript-eslint/recommended",
    "prettier"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "no-console": ["warn", { "allow": ["warn", "error"] }]
  }
}
```

### 3. æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

```json
// jest.config.js
coverageThreshold: {
  global: {
    statements: 80,
    branches: 75,
    functions: 80,
    lines: 80
  },
  './lib/application/': {
    statements: 90,
    branches: 85,
    functions: 90,
    lines: 90
  },
  './lib/domain/': {
    statements: 95,
    branches: 90,
    functions: 95,
    lines: 95
  }
}
```

### 4. å‘½åè§„èŒƒ

```typescript
// âœ… å¥½çš„å‘½å
const userRepository = new UserRepository()  // å®ä¾‹ç”¨camelCase
class UserRepository { }  // ç±»åç”¨PascalCase
interface IUserRepository { }  // æ¥å£ç”¨Iå‰ç¼€
type UserStatus = 'active' | 'inactive'  // ç±»å‹ç”¨PascalCase
const MAX_RETRY_COUNT = 3  // å¸¸é‡ç”¨UPPER_CASE

// æ–‡ä»¶å‘½å
user.entity.ts        // å®ä½“
user.repository.ts    // ä»“å‚¨
user.usecase.ts       // ç”¨ä¾‹
user.types.ts         // ç±»å‹å®šä¹‰
user.test.ts          // æµ‹è¯•æ–‡ä»¶
```

---

## ğŸ“š æ–‡æ¡£è§„èŒƒ

### 1. é¡¹ç›®æ ¸å¿ƒæ–‡æ¡£ï¼ˆå¿…é¡»ï¼‰

```markdown
PROJECT_CORE_DOCS/
â”œâ”€â”€ 01_é¡¹ç›®èƒŒæ™¯.md
â”‚   â”œâ”€â”€ ä¸ºä»€ä¹ˆåšè¿™ä¸ªé¡¹ç›®ï¼Ÿ
â”‚   â”œâ”€â”€ è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
â”‚   â””â”€â”€ æ ¸å¿ƒä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ
â”‚
â”œâ”€â”€ 02_åŠŸèƒ½éœ€æ±‚å’Œè¾¹ç•Œ.md
â”‚   â”œâ”€â”€ åšä»€ä¹ˆï¼Ÿï¼ˆåŠŸèƒ½åˆ—è¡¨+ä¼˜å…ˆçº§ï¼‰
â”‚   â”œâ”€â”€ ä¸åšä»€ä¹ˆï¼Ÿï¼ˆæ˜ç¡®è¾¹ç•Œï¼‰
â”‚   â””â”€â”€ ä¾èµ–ä»€ä¹ˆï¼Ÿï¼ˆå¤–éƒ¨æœåŠ¡ï¼‰
â”‚
â””â”€â”€ 03_å‘å±•è·¯çº¿å›¾.md
    â”œâ”€â”€ MVPï¼ˆP0ï¼‰
    â”œâ”€â”€ V1.0ï¼ˆP1ï¼‰
    â”œâ”€â”€ V1.5ï¼ˆP2ï¼‰
    â””â”€â”€ V2.0ï¼ˆP3ï¼‰
```

### 2. CLAUDE.mdé…ç½®

```markdown
# [é¡¹ç›®åç§°] é¡¹ç›®é…ç½®

## ğŸ¯ é¡¹ç›®æ ¸å¿ƒçº¦æŸ

### é“å¾‹ï¼šé¡¹ç›®å®šä½å’Œè¾¹ç•Œ
[æ˜ç¡®å®šä¹‰é¡¹ç›®æ˜¯ä»€ä¹ˆï¼Œä¸æ˜¯ä»€ä¹ˆ]

## ğŸ“š å¼€å‘ä¸Šä¸‹æ–‡å¼•ç”¨

### æ ¸å¿ƒæ–‡æ¡£å¿…è¯»
1. PROJECT_CORE_DOCS/01_é¡¹ç›®èƒŒæ™¯.md
2. PROJECT_CORE_DOCS/02_åŠŸèƒ½éœ€æ±‚å’Œè¾¹ç•Œ.md
...

## ğŸ”§ å¼€å‘è§„èŒƒçº¦æŸ

### âš ï¸ é¦–è¦è§„èŒƒï¼šDDD + TDD + Gitæ ‡å‡†

### TDDå¼ºåˆ¶æ‰§è¡Œ
[TDDå·¥ä½œæµè§„èŒƒ]

### Git Commitè§„èŒƒ
[Commit messageæ ¼å¼]

## ğŸ¯ å¼€å‘æ£€æŸ¥æ¸…å•

### å¼€å‘å‰æ£€æŸ¥
- [ ] å·²é˜…è¯»æ ¸å¿ƒæ–‡æ¡£
- [ ] ç†è§£é¡¹ç›®è¾¹ç•Œ
- [ ] åˆ›å»ºfeatureåˆ†æ”¯

### ç¼–ç ä¸­æ£€æŸ¥
- [ ] éµå¾ªTDDæµç¨‹
- [ ] ä»£ç ç¬¦åˆè§„èŒƒ
- [ ] æµ‹è¯•æŒç»­é€šè¿‡

### åŠŸèƒ½å®Œæˆå‰æ£€æŸ¥
- [ ] TDDæµç¨‹å®Œæ•´
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
```

### 3. README.md

```markdown
# [é¡¹ç›®åç§°]

ç®€çŸ­æè¿°ï¼ˆ1-2å¥è¯ï¼‰

## å¿«é€Ÿå¼€å§‹

\`\`\`bash
npm install
npm run dev
\`\`\`

## é¡¹ç›®ç»“æ„

\`\`\`
PROJECT_CORE_DOCS/  - é¡¹ç›®æ ¸å¿ƒæ–‡æ¡£
lib/                - æºä»£ç 
tests/              - æµ‹è¯•ä»£ç 
\`\`\`

## å¼€å‘è§„èŒƒ

å‚è§ [CLAUDE.md](./CLAUDE.md)

## éƒ¨ç½²

å‚è§ [éƒ¨ç½²æŒ‡å—](./docs/deployment/)
```

---

## ğŸ“¦ æ ‡å‡†æ¨¡æ¿

### 1. UseCaseæ¨¡æ¿

```typescript
/**
 * [åŠŸèƒ½åç§°] Use Case
 * Phase X.X - TDD Phase
 */

import { Result } from '@/lib/domain/shared/result'
import { [Error] } from '@/lib/domain/shared/errors'

interface [Input] {
  // è¾“å…¥å‚æ•°
}

interface [Output] {
  // è¾“å‡ºç»“æœ
}

export class [UseCaseName] {
  constructor(
    private [repository]: [Repository],
    // å…¶ä»–ä¾èµ–
  ) {}

  async execute(input: [Input]): Promise<Result<[Output]>> {
    try {
      // 1. éªŒè¯è¾“å…¥
      const validation = this.validateInput(input)
      if (!validation.isValid) {
        return Result.fail(validation.error)
      }

      // 2. æ‰§è¡Œä¸šåŠ¡é€»è¾‘
      const result = await this.[repository].[method](input)

      // 3. è¿”å›ç»“æœ
      return Result.ok(result)
    } catch (error) {
      return Result.fail(error instanceof Error ? error : new Error(String(error)))
    }
  }

  private validateInput(input: [Input]): { isValid: boolean; error?: string } {
    // éªŒè¯é€»è¾‘
    return { isValid: true }
  }
}
```

### 2. æµ‹è¯•æ¨¡æ¿

```typescript
/**
 * [åŠŸèƒ½åç§°] æµ‹è¯•
 * Phase X.X - ğŸ”´ RED
 */

import { describe, it, expect, beforeEach } from '@jest/globals'
import { [UseCaseName] } from './[usecase-name].usecase'

describe('[UseCaseName]', () => {
  let useCase: [UseCaseName]
  let mockRepository: jest.Mocked<[Repository]>

  beforeEach(() => {
    mockRepository = {
      [method]: jest.fn(),
    } as any

    useCase = new [UseCaseName](mockRepository)
  })

  describe('æ­£å¸¸æµç¨‹', () => {
    it('åº”è¯¥æˆåŠŸæ‰§è¡Œ', async () => {
      // Arrange
      const input = { /* test data */ }
      const expected = { /* expected result */ }
      mockRepository.[method].mockResolvedValue(expected)

      // Act
      const result = await useCase.execute(input)

      // Assert
      expect(result.isSuccess).toBe(true)
      expect(result.value).toEqual(expected)
    })
  })

  describe('å¼‚å¸¸å¤„ç†', () => {
    it('åº”è¯¥å¤„ç†éªŒè¯é”™è¯¯', async () => {
      // æµ‹è¯•è¾“å…¥éªŒè¯
    })

    it('åº”è¯¥å¤„ç†ä¸šåŠ¡é”™è¯¯', async () => {
      // æµ‹è¯•ä¸šåŠ¡é€»è¾‘é”™è¯¯
    })
  })
})
```

### 3. Repositoryæ¨¡æ¿

```typescript
/**
 * [é¢†åŸŸåç§°] Repository
 */

import { PrismaClient } from '@prisma/client'
import { [Entity] } from '@/lib/domain/[domain]/[entity].entity'

export interface I[Entity]Repository {
  findById(id: string): Promise<[Entity] | null>
  findByXxx(xxx: string): Promise<[Entity] | null>
  create(data: Create[Entity]Data): Promise<[Entity]>
  update(id: string, data: Update[Entity]Data): Promise<[Entity]>
  delete(id: string): Promise<void>
}

export class [Entity]Repository implements I[Entity]Repository {
  constructor(private prisma: PrismaClient) {}

  async findById(id: string): Promise<[Entity] | null> {
    return await this.prisma.[entity].findUnique({ where: { id } })
  }

  async create(data: Create[Entity]Data): Promise<[Entity]> {
    return await this.prisma.[entity].create({ data })
  }

  // ... å…¶ä»–æ–¹æ³•
}
```

### 4. Entityæ¨¡æ¿

```typescript
/**
 * [é¢†åŸŸåç§°] Entity
 */

export interface [Entity] {
  id: string
  // å…¶ä»–å­—æ®µ
  createdAt: Date
  updatedAt: Date
}

export interface Create[Entity]Data {
  // åˆ›å»ºæ‰€éœ€å­—æ®µ
}

export interface Update[Entity]Data {
  // æ›´æ–°æ‰€éœ€å­—æ®µï¼ˆå¯é€‰ï¼‰
}

// ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚æœæœ‰ï¼‰
export class [Entity]Rules {
  static validate[Rule](entity: [Entity]): boolean {
    // éªŒè¯é€»è¾‘
    return true
  }
}
```

---

## âš ï¸ é¿å…çš„é™·é˜±

### 1. è¿‡åº¦è®¾è®¡ â­â­â­

```
å±é™©ä¿¡å·ï¼š
â–¡ "å¯èƒ½æœªæ¥éœ€è¦..."
â–¡ "æå‰è®¾è®¡å¥½æ¶æ„..."
â–¡ åŠŸèƒ½æ²¡æœ‰æ˜ç¡®çš„ç”¨æˆ·éœ€æ±‚
â–¡ å®ç°å¤æ‚åº¦ >> å®é™…ä»·å€¼

é¿å…æ–¹æ³•ï¼š
âœ… éµå¾ªYAGNIåŸåˆ™
âœ… ä¼˜å…ˆçº§é©±åŠ¨å¼€å‘
âœ… MVPæ€ç»´
âœ… éœ€è¦æ—¶å†åŠ ï¼Œè€Œéæå‰è®¾è®¡
```

### 2. è¾¹ç•Œä¸æ¸…

```
å…¸å‹é—®é¢˜ï¼š
âŒ é‡å¤å®ç°å¤–éƒ¨æœåŠ¡å·²æœ‰åŠŸèƒ½
âŒ ä¸æ¸…æ¥šå“ªäº›é€»è¾‘åº”è¯¥åœ¨æœ¬åœ°
âŒ æ··æ·†ä»£ç†å’Œå®ç°çš„ç•Œé™

é¿å…æ–¹æ³•ï¼š
âœ… å¼€å‘å‰æ˜ç¡®åŠŸèƒ½å½’å±
âœ… åœ¨CLAUDE.mdä¸­å¼ºåŒ–è¾¹ç•Œ
âœ… å®šæœŸå®¡æŸ¥æ˜¯å¦è¿åè¾¹ç•Œ
```

### 3. æµ‹è¯•è¦†ç›–ç‡ä½œå¼Š

```
å…¸å‹é—®é¢˜ï¼š
âŒ åªæµ‹è¯•ç®€å•çš„getter/setter
âŒ Mockè¿‡å¤šï¼Œæµ‹ä¸äº†çœŸå®é€»è¾‘
âŒ ä¸ºäº†è¦†ç›–ç‡å†™æ— æ„ä¹‰æµ‹è¯•

æ­£ç¡®åšæ³•ï¼š
âœ… æµ‹è¯•æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
âœ… æµ‹è¯•è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸
âœ… é›†æˆæµ‹è¯•éªŒè¯çœŸå®äº¤äº’
```

### 4. æ–‡æ¡£ä¸ä»£ç ä¸åŒæ­¥

```
å…¸å‹é—®é¢˜ï¼š
âŒ æ–‡æ¡£å†™äº†ä½†ä»£ç æ²¡å®ç°
âŒ ä»£ç æ”¹äº†ä½†æ–‡æ¡£æ²¡æ›´æ–°
âŒ åŠŸèƒ½åˆ äº†ä½†æ–‡æ¡£è¿˜åœ¨

é¿å…æ–¹æ³•ï¼š
âœ… æ–‡æ¡£å’Œä»£ç åœ¨åŒä¸€PR
âœ… å®šæœŸå®¡æŸ¥æ–‡æ¡£å‡†ç¡®æ€§
âœ… åˆ é™¤è¿‡æ—¶æ–‡æ¡£
```

---

## ğŸ¯ æ ¸å¿ƒç»éªŒæ€»ç»“

### åšå¾—å¥½çš„åœ°æ–¹ âœ…

1. **DDD Liteæ¶æ„** - åˆ†å±‚æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
2. **TDDæµç¨‹** - æµ‹è¯•é©±åŠ¨ï¼Œè´¨é‡ä¿è¯
3. **Resultæ¨¡å¼** - é”™è¯¯å¤„ç†ç»Ÿä¸€
4. **é¡¹ç›®è¾¹ç•Œæ˜ç¡®** - é¿å…åŠŸèƒ½è”“å»¶
5. **æ–‡æ¡£ä½“ç³»å®Œå–„** - ä¾¿äºç†è§£å’Œç»´æŠ¤
6. **Gitè§„èŒƒä¸¥æ ¼** - æäº¤å†å²æ¸…æ™°

### éœ€è¦æ”¹è¿›çš„åœ°æ–¹ âš ï¸

1. **ä¸¥æ ¼æ‰§è¡ŒYAGNI** - åªå®ç°P0åŠŸèƒ½
2. **æå‰å®šä¹‰è¾¹ç•Œ** - åœ¨CLAUDE.mdä¸­å¼ºåŒ–
3. **æµ‹è¯•è´¨é‡ä¼˜å…ˆ** - é‡è´¨é‡è½»è¦†ç›–ç‡
4. **æ–‡æ¡£å³ä»£ç ** - æ–‡æ¡£å’Œä»£ç åŒæ­¥æ›´æ–°
5. **å®šæœŸå®¡æŸ¥** - æ¯å‘¨æ£€æŸ¥æ˜¯å¦è¿‡åº¦è®¾è®¡

---

## ğŸ“ ä½¿ç”¨æŒ‡å—

### æ–°é¡¹ç›®å¯åŠ¨æ¸…å•

```markdown
é˜¶æ®µ1ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ˆDay 1ï¼‰
- [ ] åˆ›å»ºç›®å½•ç»“æ„
- [ ] åˆå§‹åŒ–Git
- [ ] å®‰è£…ä¾èµ–
- [ ] é…ç½®å¼€å‘å·¥å…·

é˜¶æ®µ2ï¼šæ ¸å¿ƒæ–‡æ¡£ï¼ˆDay 2ï¼‰
- [ ] åˆ›å»ºPROJECT_CORE_DOCSæ–‡æ¡£
- [ ] ç¼–å†™CLAUDE.md
- [ ] ç¼–å†™README.md
- [ ] æ˜ç¡®é¡¹ç›®è¾¹ç•Œ

é˜¶æ®µ3ï¼šæ¶æ„æ­å»ºï¼ˆDay 3-4ï¼‰
- [ ] æ­å»ºDDD Liteåˆ†å±‚
- [ ] å®ç°Resultæ¨¡å¼
- [ ] é…ç½®æµ‹è¯•æ¡†æ¶
- [ ] è®¾ç½®Pre-commit Hook

é˜¶æ®µ4ï¼šMVPå¼€å‘ï¼ˆDay 5+ï¼‰
- [ ] ä¸¥æ ¼éµå¾ªTDDæµç¨‹
- [ ] åªå®ç°P0åŠŸèƒ½
- [ ] ä¿æŒæµ‹è¯•è¦†ç›–ç‡
- [ ] å®šæœŸå®¡æŸ¥è¾¹ç•Œ
```

---

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-10
**ç»´æŠ¤è€…**: Claude Development Team
**ä¸‹æ¬¡æ›´æ–°**: åº”ç”¨åˆ°ä¸‹ä¸€ä¸ªé¡¹ç›®å

---

_"ç®€å•ä¼˜äºå¤æ‚ï¼Œå¯å·¥ä½œä¼˜äºå®Œç¾ï¼Œè¿­ä»£ä¼˜äºä¸€æ¬¡æ€§ï¼Œä¸“æ³¨æ ¸å¿ƒä¼˜äºåŠŸèƒ½ä¸°å¯Œ"_

---

## ğŸ“š å‚è€ƒèµ„æº

### æ¥æºé¡¹ç›®
- **Claude Key Portal** - æœ¬æ ‡å‡†æç‚¼è‡ªè¯¥é¡¹ç›®çš„å®æˆ˜ç»éªŒ

### å¤–éƒ¨èµ„æº
- [Domain-Driven Design](https://www.domainlanguage.com/ddd/)
- [Test-Driven Development](https://martinfowler.com/bliki/TestDrivenDevelopment.html)
- [YAGNIåŸåˆ™](https://martinfowler.com/bliki/Yagni.html)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
